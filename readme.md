# Разработка

## Инициализация
Создать папку на сервере и в ней использовать

<mark>Зависит от github</mark>
```
git init
git pull https://github.com/mb-exec/fractales.dev.git
git remote add origin git@github.com:mb-exec/fractales.dev.git
```

## Настройки
В папке `.dev` в файле `config.js` указать\расскоментировать url на котором запускается локальный сервер

```js
// const SERVER_BASE_URL = 'http://'
const SERVER_BASE_URL = 'http://localhost:8888'
```
Так же при изменении гитхаба заменить:

```js
const GITHUB_URL
const GITHUB_SSH
```
Перейти в папку `.dev`
```
cd .dev/
```
И выполнить
```
npm i
```
### Доступные команды

Запуск режима для разработки
```
npm start
```
Собрать готовый проект (сжатие, минификация и т.п.)
```
npm run build
```
Собрать проект(build) и загрузить на гитхаб в ветку prod
```
npm run deploy
```
## Структура
Основной файл с информацией по всему проекту `functions.php`

В нем подключаются все индексные файли из папок 
```
./app/inc 
./app/db 
./app/components
```
Отдельная информация по страницам настраивается в файле `./app/db/_pages.php`
```
[
  'global' => ... // основные скрипты и стили для всех страниц

  'about' => ... // информация для шаблона about.php
  'fuenf' => ... // информация для шаблона fuenf.php
]
```
Вся информация будет доступная внутри шаблона в переменной `$page`

Информация по кейсам хранится/подключается в `./app/db/_cases.php`

Страницы кейсов находятся в `./cases/...`. Можно подключить стандартный шаблон для кейса из `./app/template/case.php`. Так же необходимо определить переменную:
```
$case = $db['case']['name']
```
И заполнить шаблон по аналогии `./app/db/single-case/__template__.php`